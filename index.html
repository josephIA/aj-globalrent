<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AJ GlobalRent & Services</title>
<link rel="icon" href="/static/assets/favicon.png">
<style>
  :root {
    --bg: #ffffff;
    --text: #000000;
    --btn-bg: #000000;
    --btn-text: #ffffff;
    --muted: #555555;
    --highlight: #000000;
  }

  * { box-sizing: border-box; margin:0; padding:0; font-family: Arial, sans-serif; }

  body { background: var(--bg); color: var(--text); }

  a { text-decoration:none; color: inherit; }

  .container { max-width: 1300px; margin: auto; padding: 20px; }

  header { display:flex; justify-content:space-between; align-items:center; padding:20px 0; border-bottom:1px solid #ddd; flex-wrap:wrap; }

  .logo { font-weight:bold; font-size:24px; cursor:pointer; }

  nav { display:flex; gap:15px; flex-wrap:wrap; }

  nav a { padding:6px 12px; border-radius:5px; transition:0.2s; }
  nav a:hover { background: var(--btn-bg); color: var(--btn-text); }

  .btn { padding:6px 14px; border:none; border-radius:5px; cursor:pointer; background: var(--btn-bg); color: var(--btn-text); transition:0.2s; }
  .btn:hover { opacity:0.8; }

  .hero { display:flex; justify-content:space-between; margin:20px 0; flex-wrap:wrap; gap:20px; }
  .hero-left { flex:1; }
  .hero-right { width:300px; }

  .filters { display:flex; gap:10px; flex-wrap:wrap; margin-top:10px; }
  .filters input, .filters select { padding:6px 8px; border:1px solid #ccc; border-radius:5px; }

  .grid { display:grid; grid-template-columns: repeat(auto-fit,minmax(280px,1fr)); gap:15px; margin-top:20px; }

  .card { border:1px solid #ddd; border-radius:8px; overflow:hidden; position:relative; cursor:pointer; transition:0.2s; }
  .card:hover { box-shadow:0 4px 10px rgba(0,0,0,0.1); }
  .card img { width:100%; height:180px; object-fit:cover; }
  .card h3 { padding:10px; margin:0; font-size:18px; }
  .card .meta { padding:0 10px 10px; color: var(--muted); display:flex; justify-content:space-between; align-items:center; }
  .card .price { padding:0 10px 10px; font-weight:bold; color:var(--highlight); }
  .favorite { position:absolute; top:10px; right:10px; font-size:24px; cursor:pointer; }

  footer { text-align:center; padding:20px 0; margin-top:30px; color: var(--muted); border-top:1px solid #ddd; }

  /* Responsive nav for mobile */
  @media(max-width:768px){
    header { flex-direction:column; align-items:flex-start; }
    nav { width:100%; justify-content:flex-start; gap:10px; }
    .hero { flex-direction:column; }
  }
</style>
</head>
<body>

<div class="container">

  <header>
    <div class="logo">AJ GlobalRent</div>
    <nav>
      <a href="#/">Home</a>
      <a href="#/rent">Houses (Rent)</a>
      <a href="#/sale">Houses (Sale)</a>
      <a href="#/services">Services</a>
      <a href="#/about">About</a>
      <span id="authLinks">
        <button class="btn" onclick="openAuth('login')">Sign In</button>
        <button class="btn" onclick="openAuth('signup')">Sign Up</button>
      </span>
      <span id="userLinks" style="display:none;">
        <span id="userEmail"></span>
        <button class="btn" onclick="logoutUser()">Sign Out</button>
      </span>
    </nav>
  </header>

  <section class="hero">
    <div class="hero-left">
      <h1>Premium global rentals — homes & services, simplified</h1>
      <p style="color:var(--muted);">Search properties and services across the USA.</p>

      <div class="filters">
        <input id="q" type="text" placeholder="Search listing">
        <select id="state">
          <option value="all">All States</option>
    <option value="AL">Alabama</option>
    <option value="AK">Alaska</option>
    <option value="AZ">Arizona</option>
    <option value="AR">Arkansas</option>
    <option value="CA">California</option>
    <option value="CO">Colorado</option>
    <option value="CT">Connecticut</option>
    <option value="DE">Delaware</option>
    <option value="FL">Florida</option>
    <option value="GA">Georgia</option>
    <option value="HI">Hawaii</option>
    <option value="ID">Idaho</option>
    <option value="IL">Illinois</option>
    <option value="IN">Indiana</option>
    <option value="IA">Iowa</option>
    <option value="KS">Kansas</option>
    <option value="KY">Kentucky</option>
    <option value="LA">Louisiana</option>
    <option value="ME">Maine</option>
    <option value="MD">Maryland</option>
    <option value="MA">Massachusetts</option>
    <option value="MI">Michigan</option>
    <option value="MN">Minnesota</option>
    <option value="MS">Mississippi</option>
    <option value="MO">Missouri</option>
    <option value="MT">Montana</option>
    <option value="NE">Nebraska</option>
    <option value="NV">Nevada</option>
    <option value="NH">New Hampshire</option>
    <option value="NJ">New Jersey</option>
    <option value="NM">New Mexico</option>
    <option value="NY">New York</option>
    <option value="NC">North Carolina</option>
    <option value="ND">North Dakota</option>
    <option value="OH">Ohio</option>
    <option value="OK">Oklahoma</option>
    <option value="OR">Oregon</option>
    <option value="PA">Pennsylvania</option>
    <option value="RI">Rhode Island</option>
    <option value="SC">South Carolina</option>
    <option value="SD">South Dakota</option>
    <option value="TN">Tennessee</option>
    <option value="TX">Texas</option>
    <option value="UT">Utah</option>
    <option value="VT">Vermont</option>
    <option value="VA">Virginia</option>
    <option value="WA">Washington</option>
    <option value="WV">West Virginia</option>
    <option value="WI">Wisconsin</option>
    <option value="WY">Wyoming</option>
        </select>
        <select id="cat">
          <option value="all">All</option>
          <option value="rent">Rent</option>
          <option value="sale">Sale</option>
          <option value="service">Service</option>
        </select>
        <button class="btn" onclick="apply()">Search</button>
      </div>
    </div>

    <div class="hero-right">
      <div style="border:1px solid #ddd; padding:10px; border-radius:8px;">
        <strong>Need Help?</strong>
        <p>Email: <a href="mailto:homeandapartment@gmail.com">homeandapartment@gmail.com</a></p>
      </div>
    </div>
  </section>

  <section>
    <h2>Featured Listings</h2>
    <div id="featuredGrid" class="grid"></div>
  </section>

  <section>
    <h2>All Listings</h2>
    <div id="resultsGrid" class="grid"></div>
  </section>

</div>

<footer>© 2025 AJ GlobalRent & Services. All Rights Reserved.</footer>

<!-- Netlify Identity Widget -->
<script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>

<script>
// Sample Listings
const SAMPLE = [
  {id:1,slug:"modern-loft-ca",title:"Modern Loft California",category:"rent",state:"CA",price:1200,currency:"USD",featured:true,images:["/static/assets/sample-house.jpg"]},
  {id:2,slug:"family-home-ny",title:"Family Home New York",category:"sale",state:"NY",price:450000,currency:"USD",featured:true,images:["/static/assets/sample-sale.jpg"]},
  {id:3,slug:"event-chairs-set",title:"Event Chairs & Tables",category:"service",state:"TX",price:500,currency:"USD",featured:false,images:["/static/assets/sample-service.jpg"]},
  {id:4,slug:"beach-condo-fl",title:"Beach Condo Florida",category:"rent",state:"FL",price:1500,currency:"USD",featured:true,images:["/static/assets/sample-house2.jpg"]},
  {id:5,slug:"downtown-apartment-il",title:"Downtown Apartment Illinois",category:"sale",state:"IL",price:300000,currency:"USD",featured:true,images:["/static/assets/sample-sale2.jpg"]},
  {id:6,slug:"villa-ca",title:"Luxury Villa California",category:"sale",state:"CA",price:750000,currency:"USD",featured:true,images:["/static/assets/sample-villa.jpg"]},
  {id:7,slug:"studio-ny",title:"Studio Apartment NY",category:"rent",state:"NY",price:1000,currency:"USD",featured:false,images:["/static/assets/sample-house3.jpg"]},
  {id:8,slug:"event-tables",title:"Event Tables Rental",category:"service",state:"FL",price:300,currency:"USD",featured:false,images:["/static/assets/sample-service2.jpg"]},
  {id:9,slug:"suburban-home-il",title:"Suburban Home Illinois",category:"sale",state:"IL",price:250000,currency:"USD",featured:false,images:["/static/assets/sample-sale3.jpg"]},
];

let favorites = [];

// DOM helpers
function el(q){ return document.querySelector(q); }

// Render Cards
function card(listing){
  const d=document.createElement('div'); d.className='card';
  const fav = document.createElement('span'); fav.className='favorite'; fav.innerHTML = '☆';
  fav.onclick = e => { e.stopPropagation(); toggleFavorite(listing,fav); };
  d.appendChild(fav);
  const img=document.createElement('img'); img.src=listing.images[0]; d.appendChild(img);
  const h=document.createElement('h3'); h.textContent=listing.title; d.appendChild(h);
  const m=document.createElement('div'); m.className='meta'; m.innerHTML=`<span>${listing.category}</span> <span>${listing.state}</span>`; d.appendChild(m);
  const p=document.createElement('div'); p.className='price'; p.textContent=`${listing.currency} ${listing.price.toLocaleString()}`; d.appendChild(p);
  return d;
}

function show(list,sel){ const g=el(sel); g.innerHTML=''; list.forEach(i=>g.appendChild(card(i))); }

function apply(){
  const q=el('#q').value.toLowerCase();
  const s=el('#state').value;
  const c=el('#cat').value;
  let r=SAMPLE.filter(i=>{
    if(c!=='all'&&i.category!==c) return false;
    if(s!=='all'&&i.state!==s) return false;
    if(q&&!(i.title.toLowerCase().includes(q))) return false;
    return true;
  });
  show(r,'#resultsGrid');
}

function toggleFavorite(listing,favEl){
  if(!window.netlifyIdentity.currentUser()){
    alert('Please sign in to save favorites');
    openAuth('login');
    return;
  }
  const idx=favorites.findIndex(f=>f.id===listing.id);
  if(idx===-1){ favorites.push(listing); favEl.innerHTML='★'; }
  else { favorites.splice(idx,1); favEl.innerHTML='☆'; }
  console.log('Favorites:',favorites);
}

// Netlify Identity
if(window.netlifyIdentity){
  window.netlifyIdentity.on('init', user => updateAuthUI(user));
  window.netlifyIdentity.on('login', user => { window.netlifyIdentity.close(); updateAuthUI(user); });
  window.netlifyIdentity.on('logout', () => updateAuthUI(null));
  window.netlifyIdentity.init();
}

function openAuth(type){
  if(!window.netlifyIdentity) return alert("Netlify Identity not initialized!");
  window.netlifyIdentity.open(type);
}

function updateAuthUI(user){
  if(user){
    el('#authLinks').style.display='none';
    el('#userLinks').style.display='inline';
    el('#userEmail').textContent = user.email;
  } else {
    el('#authLinks').style.display='inline';
    el('#userLinks').style.display='none';
  }
}

function logoutUser(){ if(window.netlifyIdentity) window.netlifyIdentity.logout(); }

// Initial render
window.addEventListener('load',()=>{
  show(SAMPLE.filter(s=>s.featured),'#featuredGrid');
  show(SAMPLE,'#resultsGrid');
});
</script>
</body>
</html>
