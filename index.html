<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>AJ GlobalRent & Services</title>
<link rel="icon" href="/static/assets/favicon.png">

<style>
/* Default (light theme) */
:root {
  --bg: #F8FAFC;
  --panel: #FFFFFF;
  --primary: #7C3AED;
  --muted: #6B7280;
  --text: #111827;
  --card-bg: #FFFFFF;
  --card-border: rgba(0,0,0,0.05);
  --badge-bg: rgba(124,60,237,0.12);
}

/* Purple theme */
body.purple {
  --bg: #1E1B2E;
  --panel: #2A2540;
  --primary: #8B5CF6;
  --muted: #D1D5DB;
  --text: #F9FAFB;
  --card-bg: #2A2540;
  --card-border: rgba(255,255,255,0.1);
  --badge-bg: rgba(139,92,246,0.2);
}

* { box-sizing: border-box; margin: 0; padding: 0; }
body {
  font-family: Inter, system-ui, sans-serif;
  background: var(--bg);
  color: var(--text);
}

a { color: inherit; text-decoration: none; }
.container { max-width: 1400px; margin: 0 auto; padding: 0 20px; }

header {
  display: flex; align-items: center; justify-content: space-between; padding: 16px 0;
}
.logo { font-weight: 800; font-size: 24px; color: var(--primary); cursor: default; }
nav { display: flex; align-items: center; gap: 16px; }
nav a { font-weight: 600; color: var(--muted); }
.nav-toggle { display: none; cursor: pointer; font-size: 24px; }

.hero {
  background: linear-gradient(135deg, var(--primary), #EDE9FE);
  color: var(--panel);
  border-radius: 12px;
  padding: 40px;
  margin-bottom: 24px;
  display: flex; flex-wrap: wrap; gap: 24px;
  justify-content: space-between;
}
.hero-left { flex: 1; min-width: 280px; }
.hero h1 { font-size: 36px; margin-bottom: 12px; }
.hero p { color: var(--panel); margin-bottom: 20px; }

.filters { display: flex; gap: 8px; flex-wrap: wrap; margin-top: 12px; }
.filters input, .filters select, .filters button {
  padding: 8px 12px; border-radius: 8px; border: 1px solid rgba(0,0,0,0.1);
}

.btn {
  background: var(--primary);
  color: #fff;
  border: none;
  padding: 10px 16px;
  border-radius: 8px;
  cursor: pointer;
  font-weight: 700;
}

.grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px,1fr));
  gap: 16px;
  margin-bottom: 24px;
}

.card {
  background: var(--card-bg);
  border: 1px solid var(--card-border);
  border-radius: 12px;
  padding: 12px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.05);
  cursor: pointer;
  transition: transform 0.2s;
}
.card:hover { transform: translateY(-4px); }
.card img { width: 100%; border-radius: 8px; height: 180px; object-fit: cover; }
.meta { font-size: 12px; color: var(--muted); margin-top: 6px; }
.badge { background: var(--badge-bg); color: var(--primary); padding: 2px 6px; border-radius: 999px; font-weight: 700; font-size: 11px; }
.price { font-weight: 800; color: var(--primary); margin-top: 8px; }

footer {
  text-align: center;
  color: var(--muted);
  padding: 24px 0;
}

.preloader {
  position: fixed; inset: 0; display: flex; justify-content: center; align-items: center;
  background: var(--bg); z-index: 9999;
}
.spinner {
  width: 64px; height: 64px;
  border: 6px solid rgba(0,0,0,0.1);
  border-top-color: var(--primary);
  border-radius: 50%;
  animation: spin 1s linear infinite;
}
@keyframes spin { to { transform: rotate(360deg); } }

@media(max-width:900px) {
  nav { display: none; flex-direction: column; gap: 12px; }
  .nav-toggle { display: block; }
}
</style>
</head>
<body>

<div id="pre" class="preloader"><div class="spinner"></div></div>

<div class="container" id="app" style="display:none;">
  <header>
    <div class="logo">AJ GlobalRent</div>
    <div class="nav-toggle" onclick="toggleNav()">☰</div>
    <nav id="navbar">
      <a href="#/">Home</a>
      <a href="#/rent">Rent</a>
      <a href="#/sale">Sale</a>
      <a href="#/services">Services</a>
      <a href="#/about">About</a>
      <a id="signinBtn" href="#" onclick="openSignIn()">Sign In / Sign Up</a>
      <button class="btn" onclick="toggleTheme()">Toggle Theme</button>
    </nav>
  </header>

  <section class="hero">
    <div class="hero-left">
      <h1>Find Your Perfect Home & Services</h1>
      <p>Search properties and services across the USA.</p>
      <div class="filters">
        <input type="text" id="q" placeholder="Search city or listing">
        <select id="state">
          <option value="all">All States</option>
    <option value="AL">Alabama</option>
    <option value="AK">Alaska</option>
    <option value="AZ">Arizona</option>
    <option value="AR">Arkansas</option>
    <option value="CA">California</option>
    <option value="CO">Colorado</option>
    <option value="CT">Connecticut</option>
    <option value="DE">Delaware</option>
    <option value="FL">Florida</option>
    <option value="GA">Georgia</option>
    <option value="HI">Hawaii</option>
    <option value="ID">Idaho</option>
    <option value="IL">Illinois</option>
    <option value="IN">Indiana</option>
    <option value="IA">Iowa</option>
    <option value="KS">Kansas</option>
    <option value="KY">Kentucky</option>
    <option value="LA">Louisiana</option>
    <option value="ME">Maine</option>
    <option value="MD">Maryland</option>
    <option value="MA">Massachusetts</option>
    <option value="MI">Michigan</option>
    <option value="MN">Minnesota</option>
    <option value="MS">Mississippi</option>
    <option value="MO">Missouri</option>
    <option value="MT">Montana</option>
    <option value="NE">Nebraska</option>
    <option value="NV">Nevada</option>
    <option value="NH">New Hampshire</option>
    <option value="NJ">New Jersey</option>
    <option value="NM">New Mexico</option>
    <option value="NY">New York</option>
    <option value="NC">North Carolina</option>
    <option value="ND">North Dakota</option>
    <option value="OH">Ohio</option>
    <option value="OK">Oklahoma</option>
    <option value="OR">Oregon</option>
    <option value="PA">Pennsylvania</option>
    <option value="RI">Rhode Island</option>
    <option value="SC">South Carolina</option>
    <option value="SD">South Dakota</option>
    <option value="TN">Tennessee</option>
    <option value="TX">Texas</option>
    <option value="UT">Utah</option>
    <option value="VT">Vermont</option>
    <option value="VA">Virginia</option>
    <option value="WA">Washington</option>
    <option value="WV">West Virginia</option>
    <option value="WI">Wisconsin</option>
    <option value="WY">Wyoming</option>
  </select>
        <select id="category">
          <option value="all">All</option>
          <option value="rent">Rent</option>
          <option value="sale">Sale</option>
          <option value="service">Service</option>
        </select>
        <button class="btn" onclick="apply()">Search</button>
      </div>
    </div>
  </section>

  <section>
    <h2>Featured Listings</h2>
    <div class="grid" id="featuredGrid"></div>
  </section>

  <section>
    <h2>All Listings</h2>
    <div class="grid" id="resultsGrid"></div>
  </section>

  <footer>© 2025 AJ GlobalRent & Services. All Rights Reserved.</footer>
</div>

<!-- Sign In / Sign Up Modal -->
<div id="authModal" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,0.7);z-index:9999;justify-content:center;align-items:center;">
  <div style="background:var(--panel);padding:24px;border-radius:12px;width:320px;position:relative;">
    <h2>Sign In / Sign Up</h2>
    <input type="email" id="authEmail" placeholder="Email" style="width:100%;margin:6px 0;padding:8px;">
    <input type="password" id="authPass" placeholder="Password" style="width:100%;margin:6px 0;padding:8px;">
    <button class="btn" onclick="authUser()">Submit</button>
    <div style="margin-top:12px;font-size:12px;color:var(--muted)">Existing users will login, new users will create account</div>
    <button onclick="closeAuth()" style="position:absolute;top:8px;right:8px;">✕</button>
  </div>
</div>

<script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
<script>
// Toggle navbar on mobile
function toggleNav() {
  const nav = document.getElementById('navbar');
  nav.style.display = nav.style.display === 'flex' ? 'none' : 'flex';
}

// Theme toggle
function toggleTheme() { document.body.classList.toggle('purple'); }

// Preloader
window.addEventListener('load', () => {
  setTimeout(() => { document.getElementById('pre').style.display = 'none'; document.getElementById('app').style.display = 'block'; showSamples(); }, 500);
});

// Sample listings
const SAMPLE = [
  {id:1,title:"Modern Loft LA",category:"rent",state:"CA",price:1200,currency:"USD",featured:true,images:["/static/assets/sample-house.jpg"]},
  {id:2,title:"Family Home NY",category:"sale",state:"NY",price:450000,currency:"USD",featured:true,images:["/static/assets/sample-sale.jpg"]},
  {id:3,title:"Event Chairs TX",category:"service",state:"TX",price:500,currency:"USD",featured:false,images:["/static/assets/sample-service.jpg"]},
  {id:4,title:"Luxury Condo FL",category:"rent",state:"FL",price:2200,currency:"USD",featured:false,images:["/static/assets/sample-house.jpg"]},
  {id:5,title:"Cozy Apartment OH",category:"rent",state:"OH",price:900,currency:"USD",featured:false,images:["/static/assets/sample-house.jpg"]},
  {id:6,title:"Villa GA",category:"sale",state:"GA",price:650000,currency:"USD",featured:false,images:["/static/assets/sample-sale.jpg"]},
  {id:7,title:"Penthouse IL",category:"rent",state:"IL",price:3500,currency:"USD",featured:false,images:["/static/assets/sample-house.jpg"]},
  {id:8,title:"Townhouse PA",category:"sale",state:"PA",price:320000,currency:"USD",featured:false,images:["/static/assets/sample-sale.jpg"]},
  {id:9,title:"Service Package MI",category:"service",state:"MI",price:400,currency:"USD",featured:false,images:["/static/assets/sample-service.jpg"]},
];

// Render listings
function card(l) {
  const d = document.createElement('div'); d.className='card';
  const img = document.createElement('img'); img.src=l.images[0]; d.appendChild(img);
  const h = document.createElement('h3'); h.textContent=l.title; d.appendChild(h);
  const m = document.createElement('div'); m.className='meta';
  m.innerHTML=`<span class="badge">${l.category.toUpperCase()}</span> <span>${l.state}</span>`; d.appendChild(m);
  const p = document.createElement('div'); p.className='price'; p.textContent=`${l.currency} ${l.price.toLocaleString()}`; d.appendChild(p);
  return d;
}
function showSamples() {
  const featured = SAMPLE.filter(s=>s.featured); const all=SAMPLE;
  const fGrid=document.getElementById('featuredGrid'); const rGrid=document.getElementById('resultsGrid');
  fGrid.innerHTML=''; rGrid.innerHTML='';
  featured.forEach(i=>fGrid.appendChild(card(i))); all.forEach(i=>rGrid.appendChild(card(i)));
}

// Search filter
function apply() {
  const q=document.getElementById('q').value.toLowerCase();
  const st=document.getElementById('state').value;
  const cat=document.getElementById('category').value;
  const r=SAMPLE.filter(s=>{
    if(cat!=='all' && s.category!==cat) return false;
    if(st!=='all' && s.state!==st) return false;
    if(q && !s.title.toLowerCase().includes(q)) return false;
    return true;
  });
  const grid=document.getElementById('resultsGrid'); grid.innerHTML=''; r.forEach(i=>grid.appendChild(card(i)));
}

// Netlify Identity Auth
function openSignIn(){document.getElementById('authModal').style.display='flex';}
function closeAuth(){document.getElementById('authModal').style.display='none';}
function authUser(){
  const email=document.getElementById('authEmail').value;
  const pass=document.getElementById('authPass').value;
  if(!email || !pass){alert('Please fill email and password'); return;}
  if(window.netlifyIdentity){
    window.netlifyIdentity.signup(email,pass,{}) // Netlify Identity auto-login
      .then(user=>{closeAuth(); showSamples();})
      .catch(err=>{
        window.netlifyIdentity.login(email,pass).then(u=>{closeAuth(); showSamples();}).catch(e=>alert(e.message));
      });
  }
}
</script>
</body>
</html>
