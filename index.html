<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AJ GlobalRent & Services</title>
  <link rel="icon" href="/static/assets/favicon.png" />
  <style>
    :root {
      --bg: #0B0B0D;
      --panel: #111827;
      --gold: #D4AF37;
      --blue: #1E40AF;
      --muted: #9CA3AF;
      --text: #F8FAFC;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: 'Inter', system-ui, sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    a { color: inherit; text-decoration: none; }
    button { cursor: pointer; }

    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 18px 36px;
      background: var(--panel);
      position: sticky;
      top: 0;
      z-index: 1000;
    }

    .logo {
      font-weight: 800;
      font-size: 24px;
      background: linear-gradient(135deg, var(--gold), var(--blue));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      cursor: pointer;
    }

    nav {
      display: flex;
      gap: 20px;
      align-items: center;
    }

    nav a, nav button {
      color: var(--muted);
      font-weight: 700;
      background: transparent;
      border: none;
      padding: 8px 14px;
      border-radius: 8px;
      transition: all 0.2s ease;
    }

    nav a:hover, nav button:hover {
      color: var(--text);
      background: rgba(255,255,255,0.05);
    }

    .hero {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      justify-content: center;
      text-align: left;
      padding: 80px 36px;
      gap: 24px;
      background: linear-gradient(180deg, rgba(13,15,17,0.6), transparent);
    }

    .hero h1 { font-size: 3rem; line-height: 1.2; }
    .hero p { font-size: 1.1rem; color: var(--muted); }

    .btn {
      background: linear-gradient(90deg, var(--blue), #2563EB);
      color: #fff;
      font-weight: 700;
      border-radius: 8px;
      padding: 12px 20px;
      border: none;
      margin-top: 12px;
    }

    .container { max-width: 1200px; margin: 0 auto; padding: 36px; flex: 1; }

    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
      margin-top: 24px;
    }

    .card {
      background: var(--panel);
      border-radius: 12px;
      overflow: hidden;
      border: 1px solid rgba(255,255,255,0.05);
      box-shadow: 0 8px 30px rgba(2,6,23,0.7);
      transition: transform 0.2s;
      cursor: pointer;
    }

    .card:hover { transform: translateY(-4px); }

    .card img { width: 100%; height: 180px; object-fit: cover; }

    .card-content {
      padding: 12px 16px;
    }

    .card-content h3 { margin-bottom: 6px; font-size: 1.1rem; }
    .card-content .meta { font-size: 12px; color: var(--muted); margin-bottom: 8px; }
    .badge {
      background: rgba(212, 175, 55, 0.12);
      color: var(--gold);
      padding: 2px 8px;
      border-radius: 999px;
      font-weight: 700;
      font-size: 11px;
      margin-right: 6px;
    }

    footer {
      text-align: center;
      padding: 24px;
      color: var(--muted);
      font-size: 13px;
      background: var(--panel);
    }

    #userArea { display: none; margin-bottom: 18px; }

    .filters {
      display: flex;
      gap: 8px;
      margin-top: 12px;
    }

    input, select { padding: 8px; border-radius: 8px; border:1px solid rgba(255,255,255,0.04); background:transparent; color:var(--text); }

    @media (max-width: 768px) {
      .hero { padding: 60px 20px; text-align: center; }
      .hero h1 { font-size: 2rem; }
      .filters { flex-direction: column; }
    }
  </style>
</head>
<body>
  <header>
    <div class="logo" onclick="location.href='/'">AJ GlobalRent</div>
    <nav>
      <a href="#/">Home</a>
      <a href="#/rent">Rentals</a>
      <a href="#/sale">Sales</a>
      <a href="#/services">Services</a>
      <a href="#/about">About</a>
      <button id="signBtn" onclick="openIdentity()">Sign In / Sign Up</button>
    </nav>
  </header>

  <section class="hero">
    <h1>Premium global rentals — homes & services, simplified</h1>
    <p>Search properties and services across the USA, Germany, Spain, UK & Nigeria.</p>
    <button class="btn" onclick="location.hash='#/rent'">Browse Rentals</button>
  </section>

  <div class="container" id="app">
    <div id="userArea"></div>

    <!-- Search Filters -->
    <div class="filters">
      <input id="q" type="text" placeholder="Search city or listing" style="flex:1;">
      <select id="country">
        <option value="all">All countries</option>
        <option value="US">USA</option>
        <option value="DE">Germany</option>
        <option value="ES">Spain</option>
        <option value="UK">UK</option>
        <option value="NG">Nigeria</option>
      </select>
      <select id="cat">
        <option value="all">All</option>
        <option value="rent">Rent</option>
        <option value="sale">Sale</option>
        <option value="service">Service</option>
      </select>
      <input id="min" type="number" placeholder="Min" style="width:100px;">
      <input id="max" type="number" placeholder="Max" style="width:100px;">
      <button class="btn" onclick="apply()">Search</button>
    </div>

    <!-- Featured -->
    <section id="featured">
      <h2>Featured Listings</h2>
      <div id="featuredGrid" class="grid"></div>
    </section>

    <!-- All Listings -->
    <section id="results" style="margin-top:24px">
      <h2>All Listings</h2>
      <div id="resultsGrid" class="grid"></div>
    </section>

    <!-- About -->
    <section id="aboutSection" style="display:none; margin-top:24px">
      <h2>About AJ GlobalRent & Services</h2>
      <p>Welcome to AJ GlobalRent & Services — your trusted partner for premium rentals, sales, and lifestyle services across the world’s most vibrant cities. We remove the stress and uncertainty from finding your next home or service.</p>
    </section>

    <!-- Contact -->
    <section style="margin-top:24px">
      <h3>Contact Us</h3>
      <p>Email: <a href="mailto:homeandapartment@gmail.com">homeandapartment@gmail.com</a></p>
    </section>
  </div>

  <footer>© 2025 AJ GlobalRent & Services. All Rights Reserved.</footer>

  <script>
    const SAMPLE = [
      { id: 1, slug: "modern-loft-berlin", title: "Modern Loft in Berlin", category: "rent", country: "DE", price: 1200, currency: "EUR", featured:true, images:["/static/assets/sample-house.jpg"], description:"Spacious modern loft in Berlin." },
      { id: 2, slug: "family-home-london", title: "Family Home — London", category: "sale", country: "UK", price: 450000, currency: "GBP", featured:true, images:["/static/assets/sample-sale.jpg"], description:"Beautiful 3-bedroom family home." },
      { id: 3, slug: "event-chairs-set", title: "Event Chairs & Tables", category: "service", country: "US", price: 500, currency: "USD", featured:false, images:["/static/assets/sample-service.jpg"], description:"Complete chair and table set for events." }
    ];

    function el(q){ return document.querySelector(q); }
    function card(l){
      const d = document.createElement('div'); d.className='card';
      const img = document.createElement('img'); img.src=l.images[0]; d.appendChild(img);
      const c = document.createElement('div'); c.className='card-content';
      c.innerHTML = `<h3>${l.title}</h3><div class="meta"><span class="badge">${l.category.toUpperCase()}</span>${l.country}</div><div style="color:var(--gold);font-weight:800">${l.currency} ${l.price.toLocaleString()}</div>`;
      d.appendChild(c);
      d.onclick=()=>{ location.hash='#/item/'+l.slug; }
      return d;
    }

    function show(list, sel){ const g=el(sel); g.innerHTML=''; list.forEach(i=>g.appendChild(card(i))); }

    function apply(){
      const q=el('#q').value.toLowerCase();
      const c=el('#country').value;
      const cat=el('#cat').value;
      const min=parseFloat(el('#min').value || 0);
      const max=parseFloat(el('#max').value || Infinity);
      let r=SAMPLE.filter(s=>{
        if(cat!=='all' && s.category!==cat) return false;
        if(c!=='all' && s.country!==c) return false;
        if(q && !(s.title.toLowerCase().includes(q)||s.description.toLowerCase().includes(q))) return false;
        if(s.price<min || s.price>max) return false;
        return true;
      });
      show(r,'#resultsGrid');
    }

    function router(){
      const h = location.hash || '#/';
      el('#aboutSection').style.display = (h==='#/about')?'block':'none';
      show(SAMPLE.filter(s=>s.featured),'#featuredGrid');
      show(SAMPLE,'#resultsGrid');
    }

    window.addEventListener('hashchange', router);
    window.addEventListener('load', router);
  </script>

  <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
  <script>
    if(window.netlifyIdentity){
      window.netlifyIdentity.on('init', user=>{ updateUI(user); });
      window.netlifyIdentity.on('login', user=>{
        window.netlifyIdentity.close();
        if(user.app_metadata?.roles?.includes('admin')){
          document.location.href='/admin';
        } else { updateUI(user); }
      });
      window.netlifyIdentity.on('logout', ()=>{ updateUI(null); });
    }

    function updateUI(user){
      const signBtn = document.getElementById('signBtn');
      const userArea = document.getElementById('userArea');
      if(user){
        signBtn.style.display='none';
        userArea.style.display='block';
        userArea.innerHTML = `
          Welcome, ${user.user_metadata?.full_name || user.email}!
          <button class="btn" onclick="location.href='/user-dashboard'">User Dashboard</button>
          <button class="btn" onclick="window.netlifyIdentity.logout()">Logout</button>
        `;
      } else {
        signBtn.style.display='inline-block';
        userArea.style.display='none';
      }
    }

    function openIdentity(){ if(window.netlifyIdentity){ window.netlifyIdentity.open(); } }
  </script>
</body>
</html>
